!function(){"use strict";window.ProjectUi=function(){var a,b,c,d={},e=window.location.pathname,f=window.location.href,g=$(".metaData").attr("data-page"),h={mobile:!0,tablet:!1,desktop:!1},i={micro:100,mini:300,"short":500,med:1e3,big:2e3},j=null,k=function(){var a=$("html").css("font-family");a.indexOf("desktop")>-1?(h.mobile=!1,h.tablet=!1,h.desktop=!0):a.indexOf("tablet")>-1?(h.mobile=!1,h.tablet=!0,h.desktop=!1):(h.mobile=!0,h.tablet=!1,h.desktop=!1)},l=$("#preloader"),m=function(){var a=new TimelineLite;a.set(l,{opacity:0,display:"block"}).to(l,.5,{opacity:1})},n=function(a){var b=new TimelineLite({onComplete:function(){l.css("display","none"),"function"==typeof a&&a()}});b.to(l,.5,{opacity:0})},o=function(){switch($(".mainNav li").removeClass("active",0),g){case"homePage":$(".mainNav li:first-child").addClass("active",0);break;case"aboutPage":$(".mainNav li:nth-child(2)").addClass("active",0);break;case"eventsPage":case"eventDetailsPage":$(".mainNav li:nth-child(3)").addClass("active",0);break;case"tablesPage":$(".mainNav li:nth-child(4)").addClass("active",0);break;case"magazinePage":$(".mainNav li:nth-child(5)").addClass("active",0);break;case"galleryPage":case"albumPage":case"photoViewPage":$(".mainNav li:nth-child(6)").addClass("active",0);break;case"labelsPage":$(".mainNav li:nth-child(7)").addClass("active",0);break;case"jobsPage":$(".mainNav li:nth-child(8)").addClass("active",0);break;case"contactPage":$(".mainNav li:nth-child(9)").addClass("active",0)}},p=function(){$(".menuButton").off("click").on("click",function(a){a.stopPropagation(),$("html").toggleClass("navMenuActive"),$(this).find(".hamburger").toggleClass("is-active")}),$("html").off("click").on("click",function(a,b){$(this).hasClass("navMenuActive")&&!b&&($(this).toggleClass("navMenuActive"),$(".menuButton .hamburger").toggleClass("is-active"))})},q=function(){$(".newsletter form").submit(function(a){var b=$(this);a.preventDefault();var c=$(this).serializeArray(),d=!0;b.find(".wpcf7-response-output").remove(),b.find(".wpcf7-not-valid-tip").remove(),""==c[0].value&&($(".formField").first().append('<span role="alert" class="wpcf7-not-valid-tip">Dieses Feld muss ausgefüllt werden</span>'),d=!1),""==c[1].value&&($(".formField").last().append('<span role="alert" class="wpcf7-not-valid-tip">Dieses Feld muss ausgefüllt werden</span>'),d=!1),0==d||$.ajax({url:b.attr("action"),type:b.attr("method"),data:b.serialize(),success:function(a){$(".formField span").hide("fast"),$(b.find('input[type="text"]')).val(""),$(b.find('input[type="email"]')).val(""),b.append('<div class="wpcf7-response-output wpcf7-display-none wpcf7-validation-errors" style="display: block; clear: both; margin-left: 25px; padding-top: 30px;" role="alert">Successfully subscribed.</div>')},error:function(){$(".formField span").hide("fast"),$(b.find('input[type="text"]')).val(""),$(b.find('input[type="email"]')).val(""),b.append('<div class="wpcf7-response-output wpcf7-display-none wpcf7-validation-errors" style="display: block; clear: both; margin-left: 25px; padding-top: 30px;" role="alert">Error with sending the email.</div>')}})})},r=function(a){return!$.trim(a.html())},s=function(){$(".loadLink").on("click",function(a){var b=$(this);a.preventDefault();var c=$(".morePosts"),d=c.length;console.log("Broj grupa postova: "+d);for(var e=d-1,f=0;f<d;f++)if(0===$(c[f]).height()&&r($(c[f])))$(c[f]).remove();else if(0===$(c[f]).height()&&!r($(c[f]))&&!$(c[f]).attr("style")){e=f,console.log("For petlja zadnji indeks: "+e);break}console.log("Posljednja grupa postova ima indeks "+e);var i=$(c[e]);"eventsPage"===g&&h.desktop&&Y(i),TweenLite.set(i,{height:"auto",opacity:1,overflow:"visible"}),TweenLite.from(i,1,{height:"0px",opacity:0,onComplete:function(){b.attr("href")?_a(b):$(".loadLink").addClass("invisible")}})})},t=function(){var a=h.desktop?"mouseenter":"click";h.desktop?($(document).off(a,".toggleShareBox").on(a,".toggleShareBox",function(){$(this).parent().addClass("boxActive")}),$(document).off("mouseleave",".shareBox").on("mouseleave",".shareBox",function(){$(this).removeClass("boxActive")}),$(document).off("click",".toggleShareBox").on("click",".toggleShareBox",function(){$(this).parent().toggleClass("boxActive")})):$(document).off(a,".toggleShareBox").on(a,".toggleShareBox",function(){$(this).parent().toggleClass("boxActive")});var b=new Clipboard(".clipLink");$(".clipLink").tooltip({disabled:!0}),$(document).ajaxStop(function(){$(".clipLink").tooltip({disabled:!0})}),b.on("success",function(a){$(a.trigger).tooltip("enable"),$(a.trigger).tooltip("open"),setTimeout(function(){$(a.trigger).tooltip("disable")},1500),a.clearSelection()})},u=!1,v=!1,w=!1,x=function(a){var b=0,c=$(window).width(),d=a.outerHeight()+12,e=b;a.css("clip","rect("+b+"px,"+c+"px,"+d+"px,"+e+"px)")},y=function(a){var b,c=0,d=$(window).width(),e=c;b="photoViewPage"===g&&a.outerHeight()<810?810:a.outerHeight(),a.css("clip","rect("+c+"px,"+d+"px,"+b+"px,"+e+"px)")},z=function(a){console.log("Setting up slide masks...");var b=a.length;console.log(b);for(var c=0;c<b;c++)x($(a[c]))},A=function(a){var b=0,c=$(window).width(),d=a.outerHeight(),e=260,f=new TimelineLite;f.to(a,.5,{clip:"rect("+b+"px,"+c+"px,"+d+"px,"+e+"px)",ease:Power2.easeInOut,onStart:function(){w=!0},onComplete:function(){w=!1}})},B=function(a,b){var c=a.css("clip"),d=0,e=$(window).width(),f=a.outerHeight(),g=e,h=new TimelineLite;h.set(a,{clip:c}).to(a,.5,{clip:"rect("+d+"px,"+e+"px,"+f+"px,"+g+"px)",ease:Power2.easeInOut,onStart:function(){w=!0},onComplete:function(){w=!1,b()}})},C=function(a,b){var c,d=a.css("clip"),e=0,f=$(window).width(),h=f;c="photoViewPage"===g?a.outerHeight()<810?810:a.outerHeight():a.find(".slideWrapper").outerHeight();var i=new TimelineLite;i.set(a,{clip:d}).to(a,1,{clip:"rect("+e+"px,"+f+"px,"+c+"px,"+h+"px)",onComplete:function(){$(".slide.slidePreview").removeClass("slidePreview"),b&&b()}})},D=function(a){var b=0,c=$(window).width(),d=a.outerHeight(),e=b,f=new TimelineLite;f.to(a,.5,{clip:"rect("+b+"px,"+c+"px,"+d+"px,"+e+"px)",ease:Power2.easeInOut,onStart:function(){w=!0},onComplete:function(){$(".slide.slidePreview").removeClass("slidePreview"),w=!1}})},E=function(){$(".prevnext li").on("mouseenter",function(){var a=$(this);TweenMax.to(a,.3,{rotation:-33,y:0}),TweenMax.to(a.find(".hidden-cont"),.3,{x:-5,y:-4}),TweenMax.to(a.find(".num"),.3,{rotation:33,y:0}),TweenMax.to(a.find(".numwrap"),.3,{x:-75,y:15.2}),TweenMax.to(a.find(".txt"),.3,{rotation:33}),TweenMax.to(a.find(".txtwrap"),.5,{transform:"matrix(1, 0, 0, 1, 37, -19)",ease:Power3.easeOut})}).on("mouseleave",function(){var a=$(this);TweenMax.to(a,.3,{rotation:22,y:-3.2}),TweenMax.to(a.find(".hidden-cont"),.3,{x:0,y:0}),TweenMax.to(a.find(".num"),.3,{rotation:-22}),TweenMax.to(a.find(".numwrap"),.5,{y:-7.1,x:-5,ease:Power3.easeOut}),TweenMax.to(a.find(".txt"),.3,{rotation:-22,y:1}),TweenMax.to(a.find(".txtwrap"),.3,{x:-80,y:-38.4})})},F=function(){var a=$(".ajaxContent .slideshow").find(".slide"),b=a.length;console.log("Broj slajdova: "+b);var c=$(a[0]).find(".slideWrapper").outerHeight();console.log("Visina prvog slajda: "+c);for(var d=0;d<b;d++){var e=$(a[d]).find(".slideWrapper").outerHeight();console.log("Visina slajda: "+e),e>c&&(c=e)}console.log("Najvišlji slajd ima visinu: "+c),$(".ajaxContent .slideshow").find(".slide").css("height",c+"px")},G=function(){console.log("Setting up the slideshow...");var a=$(".ajaxContent .slideshow"),b=(a.find(".slide"),a.find(".slide.active")),c=b.prev(".slide"),d=b.next(".slide"),e=b.attr("data-next-slide"),f=b.attr("data-prev-slide");F(),y(b),c.size()&&($(".ajaxContent .prevnext .prev .num").text(c.attr("data-order")),$(".ajaxContent .prevnext .prev").addClass("active")),d.size()&&($(".ajaxContent .prevnext .next .num").text(d.attr("data-order")),$(".ajaxContent .prevnext .next").addClass("active")),$(".ajaxContent .prevnext .prev").off("click").on("click",function(){history.pushState({page:f,dataload:g,prevUrl:document.location.href},null,f),F(),h.desktop&&"photoViewPage"===g&&oa(),y(c),c.addClass("slidePreview"),C(c.height()<=b.height()?b:b),setTimeout(function(){c.addClass("active"),b.removeClass("active"),b=c,Za(b),f=b.attr("data-prev-slide"),e=b.attr("data-next-slide");var a=b.attr("data-prev-loaded");f&&"true"!==a?H(f,"prev",!1,function(){c=b.prev(".slide"),d=b.next(".slide"),$(".ajaxContent .prevnext .prev .num").text(c.attr("data-order")),$(".ajaxContent .prevnext .next .num").text(d.attr("data-order")),d.size()&&$(".ajaxContent .prevnext .next").addClass("active")}):(c=b.prev(".slide"),d=b.next(".slide"),$(".ajaxContent .prevnext .prev .num").text(c.attr("data-order")),$(".ajaxContent .prevnext .next .num").text(d.attr("data-order")),c.size()||$(".ajaxContent .prevnext .prev").removeClass("active")),d.size()&&$(".ajaxContent .prevnext .next").addClass("active")},1e3)}),$(".prevnext .next").off("click").on("click",function(){history.pushState({page:e,dataload:g,prevUrl:document.location.href},null,e),F(),h.desktop&&"photoViewPage"===g&&oa(),y(d),d.addClass("slidePreview"),d.height()<=b.height()?C(b,function(){}):C(b),setTimeout(function(){d.addClass("active"),b.removeClass("active"),b=d,Za(b),f=b.attr("data-prev-slide"),e=b.attr("data-next-slide");var a=b.attr("data-next-loaded");e&&"true"!==a?(console.log("Prvi slučaj!"),H(e,"next",!1,function(){c=b.prev(".slide"),d=b.next(".slide"),$(".ajaxContent .prevnext .prev .num").text(c.attr("data-order")),$(".ajaxContent .prevnext .next .num").text(d.attr("data-order")),c.size()&&$(".ajaxContent .prevnext .prev").addClass("active")})):(console.log("Drugi slučaj!"),c=b.prev(".slide"),d=b.next(".slide"),$(".ajaxContent .prevnext .prev .num").text(c.attr("data-order")),$(".ajaxContent .prevnext .next .num").text(d.attr("data-order")),d.size()||$(".ajaxContent .prevnext .next").removeClass("active")),c.size()&&$(".ajaxContent .prevnext .prev").addClass("active")},1e3)}),h.desktop?E():L(),$(window).on("resize",function(){y(b)})},H=function(c,d,e,f){console.log("Loading slide "+c),$.ajax({url:c,data:{xhr:1},method:"POST"}).success(function(c){c=$(c).find(".slide"),c.find(".closeButton").attr("href",b),"next"===d?($(".ajaxContent .slideshowContent").append(c),e&&(v=!0),$(".ajaxContent .slide.active").attr("data-next-loaded","true").attr("data-prev-loaded","true")):($(".ajaxContent .slideshowContent").prepend(c),e&&(u=!0),$(".ajaxContent .slide.active").attr("data-next-loaded","true").attr("data-prev-loaded","true")),f(),("eventDetailsPage"===g&&"eventsPage"===a||"photoViewPage"===g&&"albumPage"===a||"eventDetailsPage"===g&&"homePage"===a||"eventDetailsPage"===g&&"labelsPage"===a)&&P(c)}).error(function(a){location.href="404.html"})},I=function(a){console.log("Loading initial slides...");var b=$(".ajaxContent .slide").attr("data-prev-slide"),c=$(".ajaxContent .slide").attr("data-next-slide");console.log(b),console.log(c),c&&H(c,"next",!0,a),b&&H(b,"prev",!0,a)},J=!0,K=function(a,b,c){a||(a=$(".slideshow .slide.active"));var d=a.outerHeight();if(console.log(d),h.desktop&&"homePage"===g)$(".slideshowContent").removeAttr("style"),c&&c();else if(b){var e=d;TweenLite.to($(".slideshowContent"),.3,{height:e+"px",onComplete:function(){c&&c()}})}else $(".slideshowContent").css("height",d+"px")},L=function(){$(".slideshowContent").swipe({swipeLeft:function(a,b,c,d,e){$(this).parent().find(".next.active").trigger("click")},swipeRight:function(a,b,c,d,e){$(this).parent().find(".prev.active").trigger("click")}})},M=function(){var a=$(".slideshow"),b=$(".slideshow .slide"),c=a.find(".slide.active"),d=c.prev(".slide"),e=c.next(".slide"),f=$(".slideshowPager button"),g=!1,i=function(){TweenLite.to($("html, body"),1,{scrollTop:0})},k=function(a){var c=b.index(a);$(".slideshowPager button.active").removeClass("active"),$(f[c]).addClass("active"),p=c,n(),g=!0},l=function(){d=c.prev(".slide"),e=c.next(".slide")},m=function(a,b){$(".prevnext .prev .num").text(a.attr("data-order")),$(".prevnext .next .num").text(b.attr("data-order")),a.size()?$(".prevnext .prev").addClass("active"):$(".prevnext .prev").removeClass("active"),b.size()?$(".prevnext .next").addClass("active"):$(".prevnext .next").removeClass("active")};$(".slideshowPager button").off("click").on("click",function(i,j){j||(J=!1);var k=f.index(this);$(b[k]).addClass("slidePreview"),$(".slideshowPager button.active").removeClass("active"),$(f[k]).addClass("active"),p=k,n(),g=!0,$(b[k]).height()<=c.height()?K($(b[k]),!0,function(){h.desktop||z(b),B(c,function(){c.removeClass("active"),$(b[k]).addClass("active").removeClass("slidePreview"),c=a.find(".slide.active"),l(),m(d,e),h.desktop&&z(b),g=!1})}):(z(b),B(c,function(){K($(b[k]),!0,function(){c.removeClass("active"),$(b[k]).addClass("active").removeClass("slidePreview"),c=a.find(".slide.active"),l(),m(d,e),g=!1})}))});var n=function(){var a=$(".slideshowContent .after"),b=$(window).width()-100;h.desktop?TweenLite.set(a,{width:b}):TweenLite.set(a,{width:"100%"}),TweenLite.to(a,5,{width:"0%"})};h.desktop&&$(".slideshowPager button").on("mouseenter",function(){if($(this).hasClass("active"))w&&$(".slide.slidePreview").removeClass("slidePreview");else if(w){var a=this;setTimeout(function(){$(".slide.slidePreview").removeClass("slidePreview");var d=f.index(a);$(b[d]).addClass("slidePreview"),A(c)},300)}else{var d=f.index(this);$(b[d]).addClass("slidePreview"),A(c)}}).on("mouseleave",function(){if(!$(this).hasClass("active")){f.index(this);D(c)}}),$(".prevnext .prev").off("click").on("click",function(){d.addClass("slidePreview"),d.height()>c.height()?B(c,function(){d.addClass("active"),c.removeClass("active"),c=d,l(),m(d,e),K(),k(c),i(),$(".slidePreview").removeClass("slidePreview"),z(b),g=!1}):K(d,!0,function(){B(c,function(){d.addClass("active"),c.removeClass("active"),c=d,l(),m(d,e),k(c),i(),$(".slidePreview").removeClass("slidePreview"),z(b),g=!1})})}),$(".prevnext .next").off("click").on("click",function(){e.addClass("slidePreview"),e.height()>c.height()?B(c,function(){e.addClass("active"),c.removeClass("active"),c=e,l(),m(d,e),K(),k(c),i(),$(".slidePreview").removeClass("slidePreview"),z(b)}):K(e,!0,function(){B(c,function(){e.addClass("active"),c.removeClass("active"),c=e,l(),m(d,e),k(c),i(),$(".slidePreview").removeClass("slidePreview"),z(b)})})}),h.desktop&&($(".prevnext .prev").on("mouseenter",function(){d.addClass("slidePreview"),A(c)}).on("mouseleave",function(){D(c)}),$(".prevnext .next").on("mouseenter",function(){e.addClass("slidePreview"),A(c)}).on("mouseleave",function(){D(c)})),E(),d.size()&&($(".prevnext .prev .num").text(d.attr("data-order")),$(".prevnext .prev").addClass("active")),e.size()&&($(".prevnext .next .num").text(e.attr("data-order")),$(".prevnext .next").addClass("active")),K(),z(b),n(),$(window).on("resize",function(){K(),z(b)});var o=b.length,p=0;null==j?j=setInterval(function(){J||clearInterval(j),!g&&J&&(p<o-1?(p++,$(".slideshowPager button:eq("+p+")").trigger("click",!0)):(p=0,$(".slideshowPager button:eq("+p+")").trigger("click",!0)))},5e3):(clearInterval(j),j=void 0,J=!0,j=setInterval(function(){J||clearInterval(j),!g&&J&&(p<o-1?(p++,$(".slideshowPager button:eq("+p+")").trigger("click",!0)):(p=0,$(".slideshowPager button:eq("+p+")").trigger("click",!0)))},5e3)),h.desktop||L()},N=function(){$("#tags").selectmenu({width:120,change:function(a,b){R(b.item.value)}}),c=!0},O=function(){$(document).off("click").on("click",".lightboxLink",function(a){a.preventDefault();var b=$(this);$("html").hasClass("navMenuActive")&&($("html").toggleClass("navMenuActive"),$(".menuButton .hamburger").toggleClass("is-active")),ab(b)})},P=function(a){console.log("Setting up lightbox unloading..."),$(a).find(".closeButton").removeAttr("data-async").off("click").on("click",function(a){var b=$(this);a.preventDefault(),bb(b)}),$(window).off("popstate"),$(window).on("popstate",function(b){"postPage"===g||"albumPage"===g||"eventDetailsPage"===g||"photoViewPage"===g?($(a).find(".closeButton").trigger("click"),$(window).off("popstate"),$a.backListener()):($("body").append('<a class="backHandler" data-loader="'+history.state.dataload+'" href="'+history.state.page+'" style="display: none;"></a>'),$a.loadContent($(".backHandler")),$(".backHandler").remove())})},Q=function(){$(".newsPost a").hover(function(){$(this).parents(".newsPost").toggleClass("hover")})},R=function(a){console.log("Filtering posts ("+a+")..."),$(".newsArticles.ajaxWrapper").removeClass("unfiltered").addClass("filtered"),$(".newsPreloader").addClass("visible"),TweenLite.to($(".newsArticles"),.3,{opacity:0,onComplete:function(){$(".postWrapper[data-tags]").remove(),$(".instaPosts").remove(),$(".morePosts").remove();var b="all"===a?"/load-more-posts?start=1&count=6&perPage=3":"/load-more-posts?tag="+a+"&start=1&count=6&perPage=3";_a(b,!0)}})},S=function(){$(".instaPost:eq(0)").attr("data-parallax",'{"y" : -100}'),$(".instaPost:eq(1)").attr("data-parallax",'{"y" : -120}'),$(".newsImage").attr("data-parallax",'{"y" : -100}'),$(".newsText").attr("data-parallax",'{"y" : -100, "smoothness": 10}')},T=function(){var a=[{featureType:"administrative.locality",elementType:"labels.text",stylers:[{lightness:"0"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#000000"},{visibility:"on"},{lightness:"25"}]},{featureType:"administrative.locality",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:"0.75"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ded7c6"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{lightness:"25"},{saturation:"-100"}]},{featureType:"poi.attraction",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.government",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.place_of_worship",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.school",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.sports_complex",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{lightness:"50"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{saturation:"-100"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{visibility:"on"},{lightness:700}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{lightness:"25"},{saturation:"-100"}]},{featureType:"transit.line",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"all",stylers:[{visibility:"on"},{hue:"#6a00ff"},{saturation:"-100"},{lightness:"-2"}]},{featureType:"transit.station",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{lightness:"25"}]},{featureType:"transit.station.airport",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"transit.station.bus",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit.station.rail",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c9b583"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]}],b={url:"/wp-content/themes/jade/img/design/icon-pin.png",scaledSize:new google.maps.Size(54,65),point:{x:27,y:65}},c=$(".mapBox"),d=c.attr("data-lat"),e=c.attr("data-lng"),f={zoom:14,scrollwheel:!1,streetViewControl:!1,disableDefaultUI:!1,mapTypeControl:!1,zoomControl:!1,center:new google.maps.LatLng(d,e),styles:a},g=document.getElementById("map"),h=new google.maps.Map(g,f);new google.maps.Marker({position:new google.maps.LatLng(d,e),map:h,title:"Jade",icon:b})},U=function(){var a=$(".contactPage"),b=$(".contactSection"),c=$(".contactBox"),d=$(".mapBox"),e=(c.outerHeight(),d.outerHeight());b.css("height",e+"px"),$("#map-form-toggle").off("click").on("click",function(c){c.preventDefault(),a.toggleClass("formActive"),a.hasClass("formActive")?b.css("height","auto"):b.css("height",e+"px")}),$(window).on("resize",function(){e=d.outerHeight(),a.hasClass("formActive")?b.css("height","auto"):b.css("height",e+"px")})},V=function(a){var b=a.indexOf("#label-");if(b>=0){console.log(a);var c,d=a.substring(b,a.length);console.log(d),h.desktop?(c=$(".desktopLabels ul li a[data-target=#label-01]"),console.log(c),setTimeout(function(){c.trigger("mouseenter"),c.trigger("click")},i.big)):setTimeout(function(){$(d).find(".accHeader").trigger("click")},i.mini)}},W=function(){$(".accHeader").off("click").on("click",function(){var a=$(this).parent(),b=$(this).outerHeight(),c=a.attr("id");a.hasClass("active")?(TweenLite.to(a,.5,{height:b+"px"}),a.removeClass("active")):($(".accItem").each(function(){var a=$(this);a.hasClass("active")&&(TweenLite.to(a,.5,{height:b+"px"}),a.removeClass("active"))}),TweenLite.set(a,{height:"auto"}),TweenLite.from(a,.5,{height:b+"px",onComplete:function(){TweenLite.to($("html, body"),.3,{scrollTop:a.offset().top})}}),a.addClass("active"),window.history.replaceState(null,null,"#"+c))})},X=function(){var a,b;$(".desktopLabels ul li a").on("click",function(b){b.preventDefault(),a=$(".labelSection .wrapper");var c=$(this).attr("data-target"),d=$(c),e=d.outerHeight();$(".desktopLabels ul li").removeClass("active"),$(".accItem").removeClass("desktopActive desktopPreview"),a.removeAttr("style").removeClass("hasActiveItem"),$(this).parent().addClass("active"),d.addClass("desktopActive"),a.css({height:e+"px"}).addClass("hasActiveItem"),window.history.replaceState(null,null,c)}),$(".desktopLabels ul li a").on("mouseenter",function(){a=$(".labelSection .wrapper"),b=$(".labelSection");var c=$(this).attr("data-target"),d=$(c);$(this).parent().hasClass("active")||(d.addClass("desktopPreview"),a.addClass("hasActiveItem"),b.addClass("hasActiveItem"),$(".accItem.desktopActive").addClass("inactive"))}).on("mouseleave",function(){$(this).parent().hasClass("active")||($(".accItem.desktopPreview").removeClass("desktopPreview"),$(".accItem.inactive").removeClass("inactive"),$(".desktopLabels ul li.active").size()||b.removeClass("hasActiveItem"))})},Y=function(a){var b=a.find(" > article"),c=b.length;a.prepend('<div class="column column1" data-parallax=\'{"y" : -150}\'></div><div class="column column2" data-parallax=\'{"y" : -100}\'></div>');for(var d=a.find(".column1"),e=a.find(".column2"),f=0;f<c;f++)f%2===0?d.append(b[f]):e.append(b[f])},Z=function(){$(".albumText").attr("data-parallax",'{"y" : -100}'),$(".albumImages a:first-child").attr("data-parallax",'{"y" : -120}'),$(".albumImages a:nth-child(2)").attr("data-parallax",'{"y" : -110}'),$(".albumImages a:nth-child(3)").attr("data-parallax",'{"y" : -100}'),$(".albumImages a:nth-child(4)").attr("data-parallax",'{"y" : -90}')},_=function(){var a=$(".boxGrid .box"),b=a.length,c=1,d=[];for(c=b<=20?2:c<=30?3:c<=40?4:c<=50?5:6;d.length<c;){for(var e=Math.ceil(Math.random()*b),f=!1,g=0;g<d.length;g++)if(d[g]==e){f=!0;break}f||(d[d.length]=e)}for(var g=0;g<d.length;g++)$(a[d[g]]).addClass("bigBox")},aa=function(){$(".boxGrid").packery({itemSelector:".box",columnWidth:".gridSizer",percentPosition:!0})},ba=function(){$(".carousel").slick({slide:".cSlide",prevArrow:".prevnext .prev",nextArrow:".prevnext .next"})},ca=!0,da=!0,ea=function(){var a=$("#about-video")[0],b=$(".playButton");$(".playButton, #about-video").on("click",function(){a.paused?(b.addClass("inactive"),a.play(),$(a).attr("controls","")):a.pause()}),a.onpause=function(){b.removeClass("inactive"),$(a).removeAttr("controls")}},fa=function(a){console.log("Setting up a slide mask...");var b=0,c=a.width(),d=a.outerHeight(),e=b;a.css("clip","rect("+b+"px,"+c+"px,"+d+"px,"+e+"px)")},ha=function(){console.log("Setting up the about masks...");for(var a=$(".imgBox.aboutBox .aboutSlideBg"),b=a.length,c=0;c<b;c++)fa($(a[c]))},ia=function(a){console.log("Starting mask animation...");var b=a.css("clip");console.log(b);var c=0,d=a.width(),e=a.outerHeight(),f=d,g=new TimelineLite;g.set(a,{clip:b}).to(a,1,{clip:"rect("+c+"px,"+d+"px,"+e+"px,"+f+"px)",ease:Power2.easeInOut})},ja=function(a){console.log("Starting mask animation...");var b=a.css("clip");console.log(b);var c=0,d=0,e=a.outerHeight(),f=d,g=new TimelineLite;g.set(a,{clip:b}).to(a,1,{clip:"rect("+c+"px,"+d+"px,"+e+"px,"+f+"px)",ease:Power2.easeInOut})},ka=function(a,b){var c=$(".aboutSlide.active .imgBox.aboutBox .aboutSlideBg"),d=c.length;console.log(a);for(var e=0;e<d;e++)"ltr"===a?ia($(c[e])):ja($(c[e]));setTimeout(function(){b()},1100)},la=function(a,b){console.log("Starting text animation...");var c=new TimelineLite;c.set(a,{opacity:1}).set(b,{opacity:0}).to(a,1,{opacity:0,ease:Power2.easeInOut}).to(b,1,{opacity:1,ease:Power2.easeInOut},0)},ma=function(){console.log("Setting up the About slideshow...");var a=$(".aboutSlideshow"),b=$(".aboutSlideshow .aboutSlide"),c=a.find(".aboutSlide.active"),d=$(".aboutSlideshow .slideshowPager button");$(".slideshowPager button").off("click").on("click",function(){if(!$(this).hasClass("active")){var e=d.index(this);console.log(e),$(".aboutSlideshow .slideshowPager button.active").removeClass("active"),$(d[e]).addClass("active");var f=1===e?"ltr":"rtl";la($(".aboutSlide.active .textBox"),$(".aboutSlide:not(.active) .textBox")),ka(f,function(){$(".aboutSlide.active").removeClass("active"),$(b[e]).addClass("active"),c=a.find(".aboutSlide.active"),ha()})}}),$(b[0]).addClass("active"),ha()},na=function(){console.log("Setting up About scrolling...");var a=$(".aboutSlideshow").offset().top,b=($(".aboutSlideshow").height(),$(window).scrollTop());$(document).on("scroll",function(c){var d=$(window).scrollTop();d>b?d>=a&&ca&&($(document).scrollTop(a),$(".aboutSlideshow .slideshowPager button:nth-child(2)").trigger("click"),setTimeout(function(){ca=!1,da=!0},i.med)):d<=a&&da&&($(document).scrollTop(a),$(".aboutSlideshow .slideshowPager button:nth-child(1)").trigger("click"),setTimeout(function(){da=!1,ca=!0},i["short"])),b=d})},oa=function(){for(var a=$(".photoViewPage").find(".shareBox"),b=a.length,c=0;c<b;c++){var d=$(a[c]).parent();d.hasClass("slide")&&d.find(".slideImg").prepend($(a[c]))}},pa=function(){$(".formConditionsAcc").accordion({collapsible:!0,heightStyle:"content",active:!1})},qa=function(){$(".tablesPreviewAcc").accordion({collapsible:!0,heightStyle:"content",active:!1})},ra=function(){$(".tablesPage .landing-table form").submit(function(a){a.preventDefault(),$("input[type=submit]").attr("disabled",!0),$("input[type=submit]").css("color","gray"),$("input[type=submit]").css("border-color","gray");var b=$(this),c=$(this).serializeArray(),d=!0;b.find(".wpcf7-response-output").remove(),b.find(".wpcf7-not-valid-tip").remove();for(var e=c.length-1;e>=0;e--)"datum"!=c[e].name&&""===c[e].value&&($(".formField").has("input[name="+c[e].name+"]").append('<span role="alert" class="wpcf7-not-valid-tip">Dieses Feld muss ausgefüllt werden</span>'),d=!1);if("undefined"!==c[3]&&"mobile"===c[6].name){var f=new RegExp(/(?:(?:00|\+)[1-9]{2}|0)[-\s]?[1-9]{2}[-\s]?\d{3}[-\s]?\d{2}[-\s]?\d{2}/),g=c[3].value,h=f.test(g);h||($(".formField").has("input[name=mobile]").append('<span role="alert" class="wpcf7-not-valid-tip">Invalid phone number format</span>'),d=!1)}0==d?($("input[type=submit]").attr("disabled",!1),$("input[type=submit]").css("color","#c9b583"),$("input[type=submit]").css("border-color","#c9b583")):$.ajax({url:b.attr("action"),type:b.attr("method"),data:b.serialize(),success:function(a){if(console.log(a),"success"==a||a.success===!0){$("input[type=submit]").attr("disabled",!1),$("input[type=submit]").css("color","#77dd77"),$("input[type=submit]").css("border-color","#77dd77"),$("input[type=submit]").val("gesendet"),$(".formField span").hide("fast"),$(b.find('input[type="text"]')).val(""),$(b.find('input[type="email"]')).val(""),$(b.find('input[type="phone"]')).val("");var c="undefined"!=typeof a.message?a.message:"Besten Dank für deine Anfrage. Wir melden uns in Kürze bei dir.";b.append('<div class="wpcf7-response-output wpcf7-display-none wpcf7-validation-errors success" style="display: block; clear: both; padding-top: 30px;" role="alert">'+c+"</div>")}else if("undefined"!=typeof a.message&&("undefined"!=typeof a.message.mobile&&$(".formField").has("input[name=mobile]").append('<span role="alert" class="wpcf7-not-valid-tip">'+a.message.mobile.notValidMobile+"</span>"),"undefined"!=typeof a.message.datum)){var c;"undefined"!=typeof a.message.datum.notValidDate&&(c=a.message.datum.notValidDate+" "),"undefined"!=typeof a.message.datum.notValidAge&&(c=a.message.datum.notValidAge),$(".formField").has("input[name=datum]").append('<span role="alert" class="wpcf7-not-valid-tip">'+c+"</span>")}},error:function(a){$("input[type=submit]").attr("disabled",!1),$("input[type=submit]").css("color","#c9b583"),$("input[type=submit]").css("border-color","#c9b583"),b.append('<div class="wpcf7-response-output wpcf7-display-none wpcf7-validation-errors" style="display: block; clear: both; padding-top: 30px;" role="alert">There was an error.</div>')}})})},sa=function(){$(".tablesPage .reservation-form form").submit(function(a){a.preventDefault(),$("input[type=submit]").attr("disabled",!0),$("input[type=submit]").css("color","gray"),$("input[type=submit]").css("border-color","gray");var b=$(this),c=$(this).serializeArray(),d=!0;b.find(".wpcf7-response-output").remove(),b.find(".wpcf7-not-valid-tip").remove();for(var e=c.length-1;e>=0;e--)"datum"!=c[e].name&&"ankunft"!=c[e].name&&"anzahl"!=c[e].name&&"getrank"!=c[e].name&&"bemerkung"!=c[e].name&&""===c[e].value&&($(".formField").has("input[name="+c[e].name+"]").append('<span role="alert" class="wpcf7-not-valid-tip">Dieses Feld muss ausgefüllt werden</span>'),d=!1);if("undefined"!=typeof c[6]&&"mobile"===c[6].name){var f=new RegExp(/(?:(?:00|\+)[1-9]{2}|0)[-\s]?[1-9]{2}[-\s]?\d{3}[-\s]?\d{2}[-\s]?\d{2}/),g=c[6].value,h=f.test(g);h||($(".formField").has("input[name=mobile]").append('<span role="alert" class="wpcf7-not-valid-tip">Invalid phone number format</span>'),d=!1)}"undefined"!=typeof c[7]&&"abend"!==c[7].name&&($(".formField").has("input[name=datum]").append('<span role="alert" class="wpcf7-not-valid-tip">Dieses Feld muss ausgefüllt werden</span>'),d=!1),$('input[name="check-it"]').length>0&&!($('input[name="check-it"]:checked').length>0)&&(d=!1,$(".submitGroup").prepend('<span role="alert" class="wpcf7-not-valid-tip">Bitte bestätigen</span>')),0==d?($("input[type=submit]").attr("disabled",!1),$("input[type=submit]").css("color","#c9b583"),$("input[type=submit]").css("border-color","#c9b583")):$.ajax({url:b.attr("action"),type:b.attr("method"),data:b.serialize(),success:function(a){$("input[type=submit]").attr("disabled",!1),$("input[type=submit]").css("color","#77dd77"),$("input[type=submit]").css("border-color","#77dd77"),$("input[type=submit]").val("gesendet"),"success"==a?($(".formField span").hide("fast"),$(b.find('input[type="text"]')).val(""),$(b.find('input[type="email"]')).val(""),$(b.find('input[type="phone"]')).val(""),$(b.find("textarea")).val(""),b.append('<div class="wpcf7-response-output wpcf7-display-none wpcf7-validation-errors success" style="display: block; clear: both; padding-top: 30px;" role="alert">Besten Dank für deine Anfrage. Wir melden uns in Kürze bei dir.</div>')):b.append('<div class="wpcf7-response-output wpcf7-display-none wpcf7-validation-errors" style="display: block; clear: both; padding-top: 30px;" role="alert">There was an error making the reservation. Please try again.</div>')},error:function(a){$("input[type=submit]").attr("disabled",!1),$("input[type=submit]").css("color","#c9b583"),
$("input[type=submit]").css("border-color","#c9b583"),b.append('<div class="wpcf7-response-output wpcf7-display-none wpcf7-validation-errors" style="display: block; clear: both; padding-top: 30px;" role="alert">There was an error making the reservation. Please try again.</div>')}})})},ta=function(){$("#abend").selectmenu({width:!1}),$("#lounge").selectmenu({width:!1}),$("#datepicker").datepicker({changeYear:!0,yearRange:"c-100:c+10"});$("#datepicker").datepicker("option","changeYear");$("#datepicker").datepicker("option","changeYear",!0),$("#datepicker").datepicker($.datepicker.regional.de)},N=function(){$("#tags").selectmenu({width:120,change:function(a,b){R(b.item.value)}}),c=!0},ua=function(){console.log("Setting up the layout specific Homepage stuff..."),h.desktop?(Q(),$(".news .desktopTags ul li").off("click").on("click",function(){$(".news .desktopTags ul li.active").removeClass("active"),$(this).addClass("active");var a=$(this).attr("data-tag");R(a)}),S()):N()},va=function(){h.desktop?(Q(),$(".news .desktopTags ul li").off("click").on("click",function(){$(".news .desktopTags ul li.active").removeClass("active"),$(this).addClass("active");var a=$(this).attr("data-tag");R(a)}),S()):N()},wa=function(){console.log("Setting up the layout specific Labels page stuff..."),h.desktop?X():W()},xa=function(){h.desktop&&Z()},ya=function(){console.log("Setting up the layout specific Photo view page stuff..."),h.desktop&&oa()},za=function(){console.log("Setting up the layout specific About the club page stuff..."),h.desktop&&(ma(),$("html").hasClass("safari")||na())},Aa=function(a){switch(a){case"homePage":ua();break;case"labelsPage":wa();break;case"galleryPage":xa();break;case"photoViewPage":ya();break;case"aboutPage":za();break;case"magazinePage":va()}},Ba=function(){p(),q()},Ca=function(){console.log("Setting up the Homepage..."),$("html").addClass("homeHtml"),M(),s(),O(),t()},Da=function(){console.log("Setting up the Homepage..."),$("html").addClass("magazineHtml"),s(),O(),t()},Ea=function(){console.log("Setting up Events page..."),s(),O(),h.desktop&&Y($(".eventList"))},Fa=function(){console.log("Setting up Event details page..."),$("html").addClass("eventDetailsHtml"),$(".eventDetailsPage .slide").addClass("active"),I(G),J=!1,t(),"eventsPage"!==a&&"homePage"!==a&&"labelsPage"!==a||($(".eventSlider .closeButton").attr("href",b),P(".ajaxContent"))},Ga=function(){console.log("Setting up the Gallery page..."),s(),O()},Ha=function(){console.log("Setting up the Album page..."),$("html").addClass("albumHtml"),_(),aa(),O(),"galleryPage"===a&&P(".ajaxContent.albumPage")},Ia=function(){console.log("Setting up the Photo view page..."),$("html").addClass("photoViewHtml"),$(".photoViewPage .slide").addClass("active"),I(G),t(),"albumPage"===a&&P(".ajaxContent.photoViewPage")},Ja=function(){console.log("Setting up Contact page..."),U(),T()},Ka=function(){console.log("Setting up the Post page..."),$("html").addClass("postHtml"),ba(),t(),"homePage"!==a&&"magazinePage"!==a||($(".postHeader .closeButton").attr("href",b),P(".ajaxContent"))},La=function(){console.log("Setting up the About the Club page..."),$("html").addClass("aboutHtml"),ea()},Ma=function(){console.log("Setting up the Labels page..."),V(f),O(),t()},Na=function(){pa(),qa(),sa(),ra(),ta(),$("html").addClass("tablesHtml")},Oa=function(a){switch(a){case"homePage":Ca();break;case"contactPage":Ja();break;case"eventsPage":Ea();break;case"eventDetailsPage":Fa();break;case"galleryPage":Ga();break;case"albumPage":Ha();break;case"photoViewPage":Ia();break;case"postPage":Ka();break;case"aboutPage":La();break;case"labelsPage":Ma();break;case"tablesPage":Na();break;case"magazinePage":Da()}},Pa=function(a){TweenLite.to(a,1,{opacity:1,width:"100%"})},Qa=function(){Pa($(".titleWrap"))},Ra=function(){Pa($(".titleWrap"))},Sa=function(){Pa($(".titleWrap"))},Ta=function(){Pa($(".titleWrap"))},Ua=function(){Pa($(".titleWrap"))},Va=function(){Pa($(".titleWrap"))},Wa=function(){Pa($(".titleWrap"))},Xa=function(){if(h.desktop)switch(console.log("Performing page load effects..."),g){case"aboutPage":Qa();break;case"eventsPage":Ra();break;case"galleryPage":Sa();break;case"labelsPage":Ta();break;case"jobsPage":Ua();break;case"tablesPage":Va();break;case"contactPage":Wa();break;case"error404Page":Wa();break;case"magazinePage":Wa();break;case"impressumPage":Wa()}else console.log("Sorry, no page load effects on mobile/tablet...")},Ya=function(a){switch(a){case"homePage":$("html").removeClass("homeHtml");break;case"eventDetailsPage":$("html").removeClass("eventDetailsHtml");break;case"albumPage":$("html").removeClass("albumHtml");break;case"photoViewPage":$("html").removeClass("photoViewHtml");break;case"postPage":$("html").removeClass("postHtml");break;case"aboutPage":$("html").removeClass("aboutHtml");break;case"tablesPage":$("html").removeClass("tablesHtml");break;case"magazinePage":$("html").removeClass("magazineHtml")}},Za=function(a){document.title=a.attr("data-pagetitle"),$('meta[name="description"]').attr("content",a.attr("data-description")),$('meta[name="keywords"]').attr("content",a.attr("data-keywords"))},$a={config:{nav:"body",loadTarget:".asyncWrapper",preloadAction:function(){m()},postloadAction:function(){n(Xa)}},init:function(a){$.extend($a.config,a),$a.backListener(),$($a.config.nav).on("click","a[data-async]",function(a){a.which<=1&&(a.preventDefault(),$a.loadContent($(this)),$("html").hasClass("navMenuActive")&&($("html").toggleClass("navMenuActive"),$(".menuButton .hamburger").toggleClass("is-active")))})},loadContent:function(c){var d=c.attr("href");$a.config.preloadAction(),Ya(g),setTimeout(function(){$.ajax({url:d,data:{xhr:1},method:"POST"}).success(function(e){if(e=$(e).find(".asyncContent"),$($a.config.loadTarget).empty().append(e),a=g,b=document.location.href,console.log("Previous url: "+b),g=$(".metaData").attr("data-page"),Za($(".asyncContent.metaData")),o(),c.hasClass("backHandler")||history.pushState({page:d,dataload:g,prevUrl:document.location.href},null,d),$("html").hasClass("production")){var f=document.location.pathname+document.location.search+document.location.hash;ga("send","pageview",f)}Aa(g),Oa(g),$("html, body").scrollTop(0),$(e).imagesLoaded().then(function(){$a.config.postloadAction(),"contactPage"===g&&(jQuery.get("/wp-content/plugins/contact-form-7/includes/js/jquery.form.min.js?ver=3.51.0-2014.06.20"),jQuery.get("/wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=4.5"))})}).error(function(a){location.href="404.html"})},i["short"])},backListener:function(){window.beginUrl=e,$(window).on("popstate",function(a){null===history.state?($("body").append('<a class="backHandler" href="'+window.beginUrl+'" style="display: none;"></a>'),$a.loadContent($(".backHandler")),$(".backHandler").remove()):($("body").append('<a class="backHandler" data-loader="'+history.state.dataload+'" href="'+history.state.page+'" style="display: none;"></a>'),$a.loadContent($(".backHandler")),$(".backHandler").remove())})}},_a=function(a,b){console.log(a+" "+b);var c=b?a:a.attr("href");$.ajax({url:c,data:{xhr:1},method:"POST"}).success(function(a){a=$(a);var c=a.attr("data-next-link");if($(".newsArticles.ajaxWrapper").append('<div class="morePosts"></div>'),"eventsPage"===g)$(".ajaxWrapper .morePostsWrapper").append(a);else if(b){var d=a.find(".postWrapper"),e=d.length;e>3&&$(".loadLink").removeClass("invisible");for(var f=0;f<e;f++)f<3?$(d[f]).appendTo(".newsArticles:first"):$(d[f]).appendTo(".newsArticles.ajaxWrapper .morePosts");$(a).imagesLoaded().then(function(){$(".newsPreloader").removeClass("visible"),TweenLite.to($(".newsArticles"),.3,{opacity:1})})}else $(".ajaxWrapper").append(a);c.length?$(".loadLink").attr("href",c):$(".loadLink").attr("href",""),h.desktop&&("homePage"===g?S():"galleryPage"===g&&Z())})},ab=function(c){var d=c.attr("href");m(),setTimeout(function(){$.ajax({url:d,data:{xhr:1},method:"POST"}).success(function(e){e=$(e).find(".ajaxContent"),$(".asyncWrapper").append(e),a=g,b=document.location.href,console.log("Previous url: "+b),g=$(e).attr("data-page"),g?Za($(e)):(g=$(e).find(".metaData").attr("data-page"),Za($(e).find(".metaData"))),c.hasClass("backHandler")||history.pushState({page:d,dataload:g,prevUrl:document.location.href},null,d),Aa(g),Oa(g),$(e).imagesLoaded().then(function(){n(Xa)})}).error(function(a){location.href="404.html"})},i["short"])},bb=function(c){console.log("Unloading the lightbox...");var d=c.attr("href");m(),Ya(g),setTimeout(function(){"photoViewPage"===g?$(".photoViewPage.ajaxContent").remove():$(".metaData.ajaxContent").size()?$(".metaData.ajaxContent").remove():$(".eventDetailsPage.ajaxContent").remove(),a=g,b=document.location.href,console.log("Previous url: "+b),"photoViewPage"===g?(g=$(".ajaxContent.metaData").attr("data-page"),Za($(".ajaxContent.metaData"))):(g=$(".asyncContent.metaData").attr("data-page"),Za($(".asyncContent.metaData"))),c.hasClass("backHandler")||history.pushState({page:d,dataload:g,prevUrl:document.location.href},null,d),n()},i["short"])},cb={},db=function(a){$.each(a,function(a,b){cb[a]=b}),$a.init(),k(),Ba(),Oa(g),$(window).load(function(){Aa(g),n(Xa)}),$(window).on("resize",function(){k(),Aa(g)})};return d.init=db,d}()}();